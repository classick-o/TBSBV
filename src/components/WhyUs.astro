<section id="why-choose-us" class="relative py-12 sm:py-20 lg:py-40 bg-slate-950 overflow-hidden">
  <!-- Background pattern -->
  <div class="absolute inset-0 opacity-[0.03]">
    <div
      class="absolute inset-0"
      style="background-image: radial-gradient(circle, rgba(6, 182, 212, 0.6) 1px, transparent 1px); background-size: 40px 40px;"
    ></div>
  </div>
  <!-- Gradient orbs -->
  <div class="absolute top-0 right-0 w-[600px] h-[600px] bg-cyan-500/5 rounded-full blur-3xl pointer-events-none"></div>
  <div class="absolute bottom-0 left-0 w-[400px] h-[400px] bg-blue-500/5 rounded-full blur-3xl pointer-events-none"></div>

  <div class="relative z-10 max-w-[1600px] mx-auto px-6 sm:px-8 lg:px-12 xl:px-20">
    <!-- Section label -->
    <div class="mb-10 sm:mb-14 lg:mb-20" data-animate style="--delay: 0s;">
      <div class="inline-flex items-center gap-2 px-5 py-2 bg-cyan-500/10 border border-cyan-500/20 mb-6">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 text-cyan-400"><path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"/><path d="m9 12 2 2 4-4"/></svg>
        <span class="text-xs font-bold text-cyan-400 tracking-[0.2em] uppercase">Why Us</span>
      </div>
    </div>

    <!-- Two-column layout -->
    <div class="grid lg:grid-cols-2 gap-12 xl:gap-20 items-center">

      <!-- Left: Text content -->
      <div>
        <h2
          data-animate style="--delay: 0.05s;"
          class="text-3xl sm:text-5xl lg:text-6xl font-bold text-white leading-[1.1] tracking-tight mb-6 sm:mb-10"
        >
          The Partner You Can
          <span class="bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent">
            Trust
          </span>
        </h2>
        <p
          data-animate style="--delay: 0.1s;"
          class="text-lg sm:text-xl text-slate-400 leading-relaxed mb-10 sm:mb-14"
        >
          With decades of combined expertise and an unwavering commitment to results, we deliver intelligence and investigations that make a real difference.
        </p>

        <!-- Differentiators -->
        <div class="space-y-6">

          <div data-animate style="--delay: 0.15s;" class="flex items-start gap-5 group">
            <div class="flex-shrink-0 inline-flex items-center justify-center w-12 h-12 bg-cyan-500/10 border border-cyan-500/20 group-hover:border-cyan-400/50 transition-colors duration-300">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-cyan-400"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>
            </div>
            <div>
              <h3 class="text-lg font-bold text-white mb-1">Precision-Driven Intelligence</h3>
              <p class="text-slate-400 leading-relaxed">Every engagement is tailored with surgical accuracy — no generic reports, no guesswork.</p>
            </div>
          </div>

          <div data-animate style="--delay: 0.2s;" class="flex items-start gap-5 group">
            <div class="flex-shrink-0 inline-flex items-center justify-center w-12 h-12 bg-cyan-500/10 border border-cyan-500/20 group-hover:border-cyan-400/50 transition-colors duration-300">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-cyan-400"><path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"/></svg>
            </div>
            <div>
              <h3 class="text-lg font-bold text-white mb-1">Absolute Confidentiality</h3>
              <p class="text-slate-400 leading-relaxed">Military-grade encryption and strict NDAs protect your most sensitive information at every step.</p>
            </div>
          </div>

          <div data-animate style="--delay: 0.25s;" class="flex items-start gap-5 group">
            <div class="flex-shrink-0 inline-flex items-center justify-center w-12 h-12 bg-cyan-500/10 border border-cyan-500/20 group-hover:border-cyan-400/50 transition-colors duration-300">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-cyan-400"><circle cx="12" cy="12" r="10"/><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/><path d="M2 12h20"/></svg>
            </div>
            <div>
              <h3 class="text-lg font-bold text-white mb-1">Global Network, Local Expertise</h3>
              <p class="text-slate-400 leading-relaxed">Operating in 45+ countries with vetted local partners who understand the landscape on the ground.</p>
            </div>
          </div>

          <div data-animate style="--delay: 0.3s;" class="flex items-start gap-5 group">
            <div class="flex-shrink-0 inline-flex items-center justify-center w-12 h-12 bg-cyan-500/10 border border-cyan-500/20 group-hover:border-cyan-400/50 transition-colors duration-300">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-cyan-400"><path d="M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z"/></svg>
            </div>
            <div>
              <h3 class="text-lg font-bold text-white mb-1">24/7 Rapid Response</h3>
              <p class="text-slate-400 leading-relaxed">Urgent situations don't wait — neither do we. Deployment within hours, anywhere in the world.</p>
            </div>
          </div>

        </div>

        <!-- CTA -->
        <div data-animate style="--delay: 0.35s;" class="mt-10 sm:mt-14">
          <a
            href="#contact"
            class="inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-bold text-sm hover:shadow-xl hover:shadow-cyan-500/30 transition-all duration-300 hover:scale-105"
          >
            Start a Confidential Consultation
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
          </a>
        </div>
      </div>

      <!-- Right: Image -->
      <div data-animate style="--delay: 0.2s;" class="relative">

        <!-- Floating stat card — top left -->
        <div class="absolute -top-5 -left-5 z-20 bg-slate-900 border border-slate-700 px-5 py-4 shadow-2xl shadow-black/40">
          <div class="text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent">98%</div>
          <div class="text-xs text-slate-400 uppercase tracking-wider mt-0.5">Client Satisfaction</div>
        </div>

        <!-- Floating stat card — bottom right -->
        <div class="absolute -bottom-5 -right-5 z-20 bg-slate-900 border border-slate-700 px-5 py-4 shadow-2xl shadow-black/40">
          <div class="text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent">45+</div>
          <div class="text-xs text-slate-400 uppercase tracking-wider mt-0.5">Countries</div>
        </div>

        <!-- Cyan glow behind image -->
        <div class="absolute inset-0 bg-cyan-500/10 blur-2xl scale-110 pointer-events-none"></div>

        <!-- Image -->
        <div class="relative aspect-[4/5] overflow-hidden group">
          <img
            src="https://images.unsplash.com/photo-1579548122080-c35fd6820ecb?q=80&w=1770&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
            alt="Why choose TBSBV"
            class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"
          />
          <!-- Gradient overlay bottom -->
          <div class="absolute inset-0 bg-gradient-to-t from-slate-950/60 via-transparent to-transparent pointer-events-none"></div>
          <!-- Cyan tint overlay -->
          <div class="absolute inset-0 bg-gradient-to-br from-cyan-900/10 to-blue-900/10 pointer-events-none"></div>
          <!-- Corner accents -->
          <div class="absolute top-0 left-0 w-10 h-10 border-t-2 border-l-2 border-cyan-400/60"></div>
          <div class="absolute bottom-0 right-0 w-10 h-10 border-b-2 border-r-2 border-cyan-400/60"></div>
        </div>

      </div>

    </div>
  </div>
</section>

<style>
  [data-animate] {
    opacity: 0;
    transform: translateY(24px);
  }
  [data-animate].visible {
    opacity: 1;
    transform: translateY(0);
  }
</style>

<script>
  function initWhyUsAnimations() {
    const section = document.getElementById('why-choose-us');
    const elements = section?.querySelectorAll('[data-animate]');
    if (!section || !elements) return;

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            elements.forEach((el) => {
              const htmlEl = el as HTMLElement;
              const delay = htmlEl.style.getPropertyValue('--delay') || '0s';
              htmlEl.style.transition = `opacity 0.6s ease ${delay}, transform 0.6s ease ${delay}`;
              htmlEl.classList.add('visible');
            });
            observer.unobserve(entry.target);
          }
        });
      },
      { threshold: 0.1 }
    );
    observer.observe(section);
  }

  document.addEventListener('DOMContentLoaded', initWhyUsAnimations);
  document.addEventListener('astro:after-swap', initWhyUsAnimations);
</script>
