<!-- Source: initial-1/TBSBV 4 -->
---
const steps = [
  {
    icon: "phone",
    number: "01",
    title: "Initial Consultation",
    description:
      "Confidential discussion to understand your needs, concerns, and objectives. We listen first.",
    duration: "30-60 minutes",
    details:
      "Free consultation with senior investigator. All conversations protected by attorney-client privilege. Immediate risk assessment provided.",
  },
  {
    icon: "fileText",
    number: "02",
    title: "Strategy Development",
    description:
      "Custom investigation plan tailored to your situation with clear milestones and deliverables.",
    duration: "1-2 days",
    details:
      "Detailed scope of work, timeline, resource allocation, and cost estimate. Multi-jurisdictional planning when needed.",
  },
  {
    icon: "search",
    number: "03",
    title: "Investigation & Analysis",
    description:
      "Expert team deploys using advanced tools, techniques, and global resources to gather intelligence.",
    duration: "Varies by case",
    details:
      "Real-time progress updates. Access to senior investigator 24/7. Regular status meetings scheduled.",
  },
  {
    icon: "target",
    number: "04",
    title: "Evidence Collection",
    description:
      "Systematic gathering and documentation of all findings with full chain-of-custody maintained.",
    duration: "Ongoing",
    details:
      "Court-admissible evidence standards. Digital forensics, OSINT, and field investigation combined.",
  },
  {
    icon: "checkCircle2",
    number: "05",
    title: "Delivery & Action",
    description:
      "Comprehensive report with findings, evidence, and actionable recommendations presented.",
    duration: "Final phase",
    details:
      "Executive summary, detailed findings, supporting evidence, and strategic recommendations. Expert testimony available.",
  },
];
---

<section
  id="process"
  class="relative py-12 sm:py-20 lg:py-40 bg-white overflow-hidden"
>
  <!-- Background Grid -->
  <div class="absolute inset-0 opacity-[0.02]">
    <div
      class="absolute inset-0"
      style="background-image: linear-gradient(rgba(6, 182, 212, 0.4) 1px, transparent 1px), linear-gradient(90deg, rgba(6, 182, 212, 0.4) 1px, transparent 1px); background-size: 64px 64px;"
    ></div>
  </div>

  <div class="relative z-10 max-w-[1400px] mx-auto px-6 sm:px-8 lg:px-12 xl:px-16">
    <!-- Section Header -->
    <div
      data-animate
      style="--delay: 0s;"
      class="text-center max-w-4xl mx-auto mb-10 sm:mb-14 lg:mb-20"
    >
      <div class="inline-flex items-center gap-2 px-5 py-2 bg-cyan-50 border border-cyan-100 mb-6">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 text-cyan-600"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
        <span class="text-sm font-semibold text-cyan-600 tracking-wider uppercase">
          How We Work
        </span>
      </div>
      <h2 class="text-3xl sm:text-5xl lg:text-7xl font-bold text-slate-900 mb-6 sm:mb-8 leading-[1.1] tracking-tight">
        A Clear Path to{" "}
        <span class="bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent">
          Resolution
        </span>
      </h2>
      <p class="text-xl sm:text-2xl text-slate-600 leading-relaxed">
        Our proven five-step process ensures transparency, efficiency, and
        results at every stage of your engagement.
      </p>
    </div>

    <!-- Process Steps -->
    <div class="grid lg:grid-cols-2 gap-8 mb-20">
      {steps.map((step, index) => (
        <div
          data-animate
          style={`--delay: ${index * 0.15}s;`}
          class="group relative"
        >
          <div class="relative bg-white border border-slate-200 hover:border-cyan-200 p-5 sm:p-8 lg:p-12 transition-all duration-300 hover:shadow-2xl h-full">
            <!-- Number Badge -->
            <div class="absolute -top-5 -left-5 w-20 h-20 bg-gradient-to-br from-cyan-600 to-blue-600 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform">
              <span class="text-white font-bold text-2xl">
                {step.number}
              </span>
            </div>

            <!-- Icon -->
            <div class="flex items-start gap-6 mt-8">
              <div class="flex-shrink-0 w-14 h-14 bg-cyan-50 border border-cyan-100 flex items-center justify-center group-hover:scale-110 transition-transform">
                {step.icon === "phone" && (
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-7 h-7 text-cyan-600"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
                )}
                {step.icon === "fileText" && (
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-7 h-7 text-cyan-600"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/><path d="M10 9H8"/><path d="M16 13H8"/><path d="M16 17H8"/></svg>
                )}
                {step.icon === "search" && (
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-7 h-7 text-cyan-600"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
                )}
                {step.icon === "target" && (
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-7 h-7 text-cyan-600"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>
                )}
                {step.icon === "checkCircle2" && (
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-7 h-7 text-cyan-600"><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></svg>
                )}
              </div>

              <div class="flex-1">
                <!-- Title -->
                <h3 class="text-2xl lg:text-3xl font-bold text-slate-900 mb-4 group-hover:text-cyan-600 transition-colors">
                  {step.title}
                </h3>

                <!-- Description -->
                <p class="text-slate-600 leading-relaxed mb-6 text-lg">
                  {step.description}
                </p>

                <!-- Duration -->
                <div class="inline-flex items-center gap-2 px-4 py-2 bg-slate-50 border border-slate-200">
                  <div class="w-2 h-2 bg-cyan-500"></div>
                  <span class="text-sm text-slate-700 font-medium">
                    {step.duration}
                  </span>
                </div>
              </div>
            </div>

            <!-- Hover Accent -->
            <div class="absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-cyan-500 to-blue-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
          </div>
        </div>
      ))}
    </div>

    <!-- CTA Section -->
    <div
      data-animate
      style="--delay: 1s;"
      class="bg-gradient-to-br from-slate-900 to-slate-800 p-8 sm:p-12 lg:p-20 text-center"
    >
      <h3 class="text-2xl sm:text-3xl lg:text-4xl font-bold text-white mb-4 sm:mb-6">
        Ready to Get Started?
      </h3>
      <p class="text-slate-300 text-sm sm:text-base lg:text-xl mb-6 sm:mb-10 max-w-2xl mx-auto leading-relaxed">
        Schedule a confidential consultation today and take the first step
        toward clarity and security.
      </p>
      <a
        href="#contact"
        class="inline-flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-semibold text-sm hover:shadow-2xl hover:shadow-cyan-500/40 transition-all duration-300 hover:scale-[1.02]"
      >
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
        <span>Book Your Consultation</span>
      </a>
    </div>
  </div>
</section>

<script>
  function initProcessAnimations() {
    const animatedElements = document.querySelectorAll('#process [data-animate]');

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            const el = entry.target as HTMLElement;
            const delay = getComputedStyle(el).getPropertyValue('--delay') || '0s';
            el.style.transition = `opacity 0.6s ease ${delay}, transform 0.6s ease ${delay}`;
            el.style.opacity = '1';
            el.style.transform = 'translateY(0)';
          }
        });
      },
      { threshold: 0.1 }
    );

    animatedElements.forEach((el) => {
      const element = el as HTMLElement;
      element.style.opacity = '0';
      element.style.transform = 'translateY(40px)';
      observer.observe(element);
    });
  }

  document.addEventListener('DOMContentLoaded', initProcessAnimations);
  document.addEventListener('astro:after-swap', initProcessAnimations);
</script>
